import * as T from '^/types';

const { PHOTO, SOURCE, BLUEPRINT_PDF, BLUEPRINT_DXF, BLUEPRINT_DWG, DESIGN_DXF, ORTHO, DSM, POINTCLOUD }: typeof T.AttachmentType = T.AttachmentType;

/* eslint-disable no-magic-numbers */
export const fileSignatures: { [K in T.AttachmentType]: Array<Array<number>> } = {
  [PHOTO]: [
    [0xFF, 0xD8, 0xFF], // JPG, JPEG
    [0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A], // PNG
  ],
  [SOURCE]: [
    [0xFF, 0xD8, 0xFF], // JPG, JPEG
  ],
  [ORTHO]: [
    [0x49, 0x49, 0x2A, 0x00], // TIF
    [0x4D, 0x4D, 0x00, 0x2A], // TIF
    [0x49, 0x49, 0x2B, 0x00, 0x08, 0x00, 0x00, 0x00], // BigTiff LittleEndian
    [0x4D, 0x4D, 0x00, 0x2B, 0x00, 0x08, 0x00, 0x00], // BigTiff BigEndian
  ],
  [BLUEPRINT_PDF]: [
    [0x25, 0x50, 0x44, 0x46, 0x2D], // PDF
    [0x20, 0x20, 0x30, 0x0D, 0x0A], // DXF
    [0x41, 0x43, 0x31, 0x30], // DWG
  ],
  [BLUEPRINT_DXF]: [
    [0x25, 0x50, 0x44, 0x46, 0x2D], // PDF
    [0x20, 0x20, 0x30, 0x0D, 0x0A], // DXF
    [0x41, 0x43, 0x31, 0x30], // DWG
  ],
  [BLUEPRINT_DWG]: [
    [0x25, 0x50, 0x44, 0x46, 0x2D], // PDF
    [0x20, 0x20, 0x30, 0x0D, 0x0A], // DXF
    [0x41, 0x43, 0x31, 0x30], // DWG
  ],
  [DESIGN_DXF]: [
    [0x20, 0x20, 0x30, 0x0D, 0x0A], // DXF
  ],
  [DSM]: [
    [0x49, 0x49, 0x2A, 0x00],
    [0x4D, 0x4D, 0x00, 0x2A],
    [0x49, 0x49, 0x2B, 0x00, 0x08, 0x00, 0x00, 0x00], // BigTiff LittleEndian
    [0x4D, 0x4D, 0x00, 0x2B, 0x00, 0x08, 0x00, 0x00], // BigTiff BigEndian
  ],
  [POINTCLOUD]: [
    [0x4C, 0x41, 0x53, 0x46], // LAS
  ],
};

export const fileExtensions: { [K in T.AttachmentType]: Array<string> } = {
  [PHOTO]: ['.jpg', '.png'],
  [SOURCE]: ['.jpg', '.jpeg'],
  [ORTHO]: ['.tif', '.tiff'],
  [BLUEPRINT_PDF]: ['.dwg', '.dxf', '.pdf'],
  [BLUEPRINT_DXF]: ['.dwg', '.dxf', '.pdf'],
  [BLUEPRINT_DWG]: ['.dwg', '.dxf', '.pdf'],
  [DESIGN_DXF]: ['.dxf'],
  [DSM]: ['.tif', '.tiff'],
  [POINTCLOUD]: ['.las'],
};
